(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77],{2077:(e,t,s)=>{Promise.resolve().then(s.bind(s,1375)),Promise.resolve().then(s.bind(s,44))},2216:(e,t,s)=>{"use strict";s.d(t,{o:()=>r});var a=s(3415);let r=a.z.object({first_name:a.z.string().min(2,{message:"Имя должно содержать не менее 2-х символов"}),last_name:a.z.string().min(2,{message:"Фамилия должна содержать не менее 2-х символов"}),email:a.z.string().email({message:"Введите корректную почту"}),phone_number:a.z.string().min(10,{message:"Введите корректный номер телефона"})})},147:(e,t,s)=>{"use strict";s.d(t,{m:()=>l});var a=s(5155),r=s(9602);s(2115);let l=e=>{let{className:t,children:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("mx-auto max-w-[1280px] px-4 md:px-8",t),children:s})}},1375:(e,t,s)=>{"use strict";s.d(t,{Footer:()=>c});var a=s(5155),r=s(2115),l=s(8173),n=s.n(l),i=s(5565),d=s(9602),o=s(147);let c=e=>{let{className:t}=e,[s,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{l(!0)},[]),s)?(0,a.jsx)("footer",{className:(0,d.cn)("bg-red-200 w-full",t),children:(0,a.jsxs)(o.m,{className:"flex flex-col md:flex-row items-start md:items-center justify-between py-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 mb-10 md:mb-0",children:[(0,a.jsx)("p",{className:"text-sm text-gray-800",children:"ИП Симонова Татьяна Юрьевна (ИНН 590301561875)"}),(0,a.jsx)("p",{className:"text-sm text-gray-800",children:"Адрес компании: Валенсия, 614031 г. Пермь, ул. Докучаева, 50б"}),(0,a.jsxs)("p",{className:"text-sm text-gray-800",children:["Email:"," ",(0,a.jsx)(n(),{href:"mailto:valensia_sweet@mail.ru",className:"text-blue-600 hover:underline",children:"valensia_sweet@mail.ru"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-800",children:"Время работы: понедельник-пятница, с 8:00 до 21:00"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 mb-10 md:mb-0 text-start",children:[(0,a.jsx)(n(),{href:"/vacansies",className:"font-bold text-lg",children:"Вакансии"}),(0,a.jsx)(n(),{href:"/addresses",className:"font-bold text-lg",children:"Адреса магазинов"}),(0,a.jsx)(n(),{href:"/public-offer.pdf",target:"_blank",rel:"noopener noreferrer",className:"font-bold text-lg",children:"Публичная оферта"}),(0,a.jsx)(n(),{href:"https://vk.com/valencia_sweet",target:"_blank",rel:"noopener noreferrer",className:"font-bold text-lg",children:"Группа ВКонтакте"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)(n(),{href:"/",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.default,{src:"/assets/images/box.png",alt:"Логотип компании",width:80,height:80}),(0,a.jsx)("h1",{className:"text-2xl uppercase font-black",children:"Valencia"})]})}),(0,a.jsx)("div",{className:"mt-2 text-2xl font-bold",children:"+7 (950) 443-30-24"})]})]})}):null}},389:(e,t,s)=>{"use strict";s.d(t,{Z:()=>x});var a=s(5155),r=s(9606),l=s(2115),n=s(9602);let i=l.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});i.displayName="Input";var d=s(689);let o=e=>{let{onClick:t,className:s}=e;return(0,a.jsx)("button",{onClick:t,className:(0,n.cn)("absolute right-4 top-1/2 -translate-y-1/2 opacity-30 hover:opacity-100 cursor-pointer",s),children:(0,a.jsx)(d.A,{className:"h-5 w-5"})})},c=e=>{let{text:t,className:s}=e;return(0,a.jsx)("p",{className:(0,n.cn)("text-red-500 text-sm",s),children:t})},m=()=>(0,a.jsx)("span",{className:"text-red-500",children:"*"}),x=e=>{var t;let{className:s,name:l,label:n,required:d,...x}=e,{register:f,formState:{errors:u},watch:h,setValue:p}=(0,r.xW)(),g=h(l),b=null===(t=u[l])||void 0===t?void 0:t.message;return(0,a.jsxs)("div",{className:s,children:[n&&(0,a.jsxs)("p",{className:"font-medium mb-2",children:[n," ",d&&(0,a.jsx)(m,{})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i,{className:"h-12 text-md",...f(l),...x}),g&&(0,a.jsx)(o,{onClick:()=>{p(l,"",{shouldValidate:!0})}})]}),b&&(0,a.jsx)(c,{text:b,className:"mt-2"})]})};l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})}).displayName="Textarea"},44:(e,t,s)=>{"use strict";s.d(t,{Header:()=>P});var a={};s.r(a),s.d(a,{search:()=>f});var r=s(5155),l=s(9602),n=s(2115),i=s(147),d=s(5565),o=s(8173),c=s.n(o);let m=s(2651).A.create({baseURL:"http://127.0.0.1:8000/api"});var x=function(e){return e.SEARCH_PRODUCTS="products/",e.ORDERS="orders/",e}({});let f=async e=>(await m.get(x.SEARCH_PRODUCTS,{params:e})).data,u={products:a};var h=s(2591),p=s(6308),g=s(1740);let b=e=>{let{className:t}=e,[s,a]=n.useState(""),[i,d]=n.useState(!1),[o,m]=n.useState([]),x=n.useRef(null);(0,p.A)(x,()=>{d(!1)}),(0,g.A)(async()=>{try{console.log(s);let e=await u.products.search({name:s});m(e)}catch(e){console.log(e)}},250,[s]);let f=()=>{d(!1),a(""),m([])};return(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)("div",{className:"fixed top-0 left-0 bottom-0 right-0 bg-black/50 z-30"}),(0,r.jsxs)("div",{ref:x,className:(0,l.cn)("flex rounded-2xl flex-1 justify-between relative h-11 z-30",t),children:[(0,r.jsx)(h.A,{className:"absolute top-1/2 translate-y-[-50%] left-3 h-5 text-gray-400"}),(0,r.jsx)("input",{className:"rounded-2xl outline-none w-full bg-gray-100 pl-11 border border-transparent hover:border-gray-400 focus:border-primary focus:border-[3px] transition-colors duration-300",type:"text",placeholder:"Найти тортик...",onFocus:()=>d(!0),value:s,onChange:e=>a(e.target.value)}),o.length>0&&(0,r.jsx)("div",{className:(0,l.cn)("absolute w-full bg-white rounded-xl py-2 top-14 shadow-md transition-all duration-200 invisible opacity-0 z-30",i&&"visible opacity-100 top-12"),children:o.slice(0,5).map(e=>(0,r.jsxs)(c(),{onClick:f,className:"flex items-center gap-3 w-full px-3 py-2 hover:bg-primary/10",href:"/product/".concat(e.id),children:[(0,r.jsx)("img",{className:"rounded-sm h-8 w-8",src:e.image,alt:e.name}),(0,r.jsx)("span",{children:e.name})]},e.id))})]})]})};var j=s(6870),v=s(7936),N=s(532);let y=N.bL,w=N.l9;N.Mz;let _=n.forwardRef((e,t)=>{let{className:s,align:a="center",sideOffset:n=4,...i}=e;return(0,r.jsx)(N.ZL,{children:(0,r.jsx)(N.UC,{ref:t,align:a,sideOffset:n,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});_.displayName=N.UC.displayName;var k=s(4085),S=s(9606),C=s(2679),z=s(2216),R=s(389),A=s(5037);let E="orderHistory",O=()=>{let e=(0,S.mN)({resolver:(0,C.u)(z.o),defaultValues:{email:"",first_name:"",last_name:"",phone_number:""}}),{submitting:t,submitPrivateCakeOrder:s}=function(){let[e,t]=(0,n.useState)(!1);return{submitting:e,submitPrivateCakeOrder:async e=>{if(!function(){let e=Date.now(),t=localStorage.getItem(E),s=t?JSON.parse(t):[];return!((s=s.filter(t=>e-t<864e5)).length>=100)&&(s.push(e),localStorage.setItem(E,JSON.stringify(s)),!0)}()){A.Ay.error("Превышено количество заказов за последние 24 часа.");return}try{t(!0);let s={...e,order_items:[]},a=await fetch("http://127.0.0.1:8000/api/orders/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(a.ok)A.Ay.success("Заказ частного тортика успешно оформлен!"),setTimeout(()=>{location.href="/"},100);else{let e=await a.json();console.error("Ошибка сервера:",e),A.Ay.error("Ошибка при оформлении заказа: "+JSON.stringify(e))}}catch(e){console.error("Ошибка сети:",e),A.Ay.error("Ошибка сети при оформлении заказа.")}finally{t(!1)}}}}();return(0,r.jsx)(S.Op,{...e,children:(0,r.jsxs)(y,{children:[(0,r.jsx)(w,{asChild:!0,children:(0,r.jsx)(k.$,{variant:"secondary",className:"px-3 py-1 text-primary transition-colors duration-300 hover:bg-primary/30",children:"Заказать тортик"})}),(0,r.jsx)(_,{className:"w-80 overflow-y-auto",children:(0,r.jsx)("form",{onSubmit:e.handleSubmit(s),children:(0,r.jsxs)("div",{className:"grid gap-7",children:[(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)("h4",{className:"font-medium leading-none",children:"Тортик сделанный для вас!"})}),(0,r.jsxs)("div",{className:"grid gap-5",children:[(0,r.jsxs)("div",{className:"grid grid-row gap-5",children:[(0,r.jsx)(R.Z,{name:"first_name",className:"text-base",placeholder:"Имя"}),(0,r.jsx)(R.Z,{name:"last_name",className:"text-base",placeholder:"Фамилия"}),(0,r.jsx)(R.Z,{name:"email",className:"text-base",placeholder:"E-Mail"}),(0,r.jsx)(R.Z,{name:"phone_number",className:"text-base",placeholder:"Телефон"})]}),(0,r.jsx)(k.$,{type:"submit",variant:"outline",disabled:t,children:"Отправить"})]})]})})})]})})};var F=s(3516);let V=()=>(0,r.jsxs)(j.cj,{children:[(0,r.jsx)(j.CG,{asChild:!0,children:(0,r.jsx)("button",{className:"p-2 md:hidden",children:(0,r.jsx)(v.A,{size:24})})}),(0,r.jsxs)(j.h,{side:"left",className:"bg-[#F4F1EE]",children:[(0,r.jsx)(j.Fm,{className:"flex items-start justify-between",children:(0,r.jsx)(j.qp,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(d.default,{src:"/assets/images/box.png",alt:"Логотип",width:35,height:35}),(0,r.jsx)(j.Qs,{children:(0,r.jsx)("span",{className:"text-2xl font-extrabold uppercase text-black",children:"Valencia"})})]})})}),(0,r.jsx)("hr",{className:"my-8"}),(0,r.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,r.jsx)(F.h,{text:"Меню",size:"md",className:"font-extrabold"}),(0,r.jsx)(c(),{href:"/about",className:"text-lg",children:"О нас"})]}),(0,r.jsx)("hr",{className:"my-8"}),(0,r.jsx)("div",{className:"flex flex-col mt-14",children:(0,r.jsx)(O,{})})]})]}),P=e=>{let{hasSearch:t=!0,hasDop:s=!0,className:a}=e;return(0,r.jsx)("header",{className:(0,l.cn)("border-b",a),children:(0,r.jsxs)(i.m,{className:"flex flex-col md:flex-row items-center justify-between py-8",children:[(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsx)(c(),{href:"/",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(d.default,{src:"/assets/images/box.png",alt:"Empty cart",width:35,height:35}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl uppercase font-black",children:"Valencia"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 leading-3",children:"Лучшие тортики только для вас!"})]})]})}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)(V,{})})]}),t&&(0,r.jsx)("div",{className:"w-full mt-10 md:mt-0",children:(0,r.jsx)(b,{})}),s&&(0,r.jsx)("div",{className:"hidden md:flex w-full mt-6 md:mt-0 gap-20 items-center justify-start md:justify-end",children:(0,r.jsx)(O,{})})]})})}},3516:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});var a=s(3463),r=s(2115);let l=e=>{let{text:t,size:s="sm",className:l}=e;return r.createElement({xs:"h5",sm:"h4",md:"h3",lg:"h2",xl:"h1","2xl":"h1"}[s],{className:(0,a.A)({xs:"text-[16px]",sm:"text-[22px]",md:"text-[26px]",lg:"text-[32px]",xl:"text-[40px]","2xl":"text-[48px]"}[s],l)},t)}},4085:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var a=s(5155),r=s(2115),l=s(2317),n=s(1027),i=s(9602);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:o=!1,...c}=e,m=o?l.DX:"button";return(0,a.jsx)(m,{className:(0,i.cn)(d({variant:r,size:n,className:s})),ref:t,...c})});o.displayName="Button"},6870:(e,t,s)=>{"use strict";s.d(t,{CG:()=>c,Fm:()=>p,Qs:()=>j,XW:()=>g,cj:()=>o,h:()=>h,kN:()=>m,qp:()=>b});var a=s(5155),r=s(2115),l=s(6217),n=s(1027),i=s(689),d=s(9602);let o=l.bL,c=l.l9,m=l.bm,x=l.ZL,f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hJ,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});f.displayName=l.hJ.displayName;let u=(0,n.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=r.forwardRef((e,t)=>{let{side:s="right",className:r,children:n,...o}=e;return(0,a.jsxs)(x,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(l.UC,{ref:t,className:(0,d.cn)(u({side:s}),r),...o,children:[(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]}),n]})]})});h.displayName=l.UC.displayName;let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};p.displayName="SheetHeader";let g=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};g.displayName="SheetFooter";let b=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hE,{ref:t,className:(0,d.cn)("text-lg font-semibold text-foreground",s),...r})});b.displayName=l.hE.displayName;let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",s),...r})});j.displayName=l.VY.displayName},9602:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(3463),r=s(9795);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}}}]);