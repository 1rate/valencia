(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101],{2509:(e,s,t)=>{Promise.resolve().then(t.bind(t,5127))},5127:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>M});var a=t(5155),r=t(2679),l=t(9606),i=t(2115),n=t(3516),d=t(9602);let o=e=>{let{title:s,endAdornment:t,className:r,contentClassName:l,children:i}=e;return(0,a.jsxs)("div",{className:(0,d.cn)("bg-white rounded-3xl",r),children:[s&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-5 px-7 border-b border-gray-100",children:[(0,a.jsx)(n.h,{text:s,size:"sm",className:"font-bold"}),t]}),(0,a.jsx)("div",{className:(0,d.cn)("px-5 py-4",l),children:i})]})},c=e=>{let{title:s,value:t,className:r}=e;return(0,a.jsxs)("div",{className:(0,d.cn)("flex my-4",r),children:[(0,a.jsxs)("span",{className:"flex flex-1 text-lg text-neutral-500",children:[s,(0,a.jsx)("div",{className:"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2"})]}),(0,a.jsx)("span",{className:"font-bold text-lg",children:t})]})};var m=t(7661),x=t(9266),u=t(2884),p=t(4085);function h(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,d.cn)("animate-pulse rounded-md bg-primary/10",s),...t})}var f=t(745);let g=e=>{var s;let{totalAmount:t,loading:r,className:n}=e,{register:g,setValue:y,formState:{errors:j}}=(0,l.xW)();return(0,i.useEffect)(()=>{g("payment_type",{required:"Выберите способ оплаты"})},[g]),(0,a.jsxs)(o,{className:(0,d.cn)("p-6 sticky top-4",n),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-xl",children:"Итого:"}),r?(0,a.jsx)(h,{className:"h-11 w-48"}):(0,a.jsxs)("span",{className:"h-11 text-[34px] font-extrabold",children:[t," ₽"]})]}),(0,a.jsx)(c,{title:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.A,{size:18,className:"mr-2 text-gray-400"}),"Стоимость корзины:"]}),value:r?(0,a.jsx)(h,{className:"h-6 w-16 rounded-[6px]"}):"".concat(t," ₽")}),(0,a.jsx)(c,{title:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.A,{size:18,className:"mr-2 text-gray-400"}),"Доставка:"]}),value:r?(0,a.jsx)(h,{className:"h-6 w-16 rounded-[6px]"}):"Рассчитает менеджер"}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:"Способ оплаты"}),(0,a.jsxs)(f.l6,{onValueChange:e=>y("payment_type",e,{shouldValidate:!0}),children:[(0,a.jsx)(f.bq,{className:"mt-2",children:(0,a.jsx)(f.yv,{placeholder:"Выберите способ оплаты"})}),(0,a.jsxs)(f.gC,{children:[(0,a.jsx)(f.eb,{value:"card",children:"Картой"}),(0,a.jsx)(f.eb,{value:"cash",children:"Наличными"})]})]}),j.payment_type&&(0,a.jsx)("p",{className:"text-red-500 mt-1 text-sm",children:null===(s=j.payment_type.message)||void 0===s?void 0:s.toString()})]}),(0,a.jsxs)(p.$,{type:"submit",className:"w-full h-14 rounded-2xl mt-6 text-base font-bold",disabled:r,children:["Оформить заказ",(0,a.jsx)(u.A,{className:"w-5 ml-2"})]})]})};var y=t(689),j=t(8182);let v=e=>{let{name:s,price:t,imageUrl:r,quantity:l,details:i,className:n,disabled:o,onClickCountButton:c,onClickRemove:m}=e;return(0,a.jsxs)("div",{className:(0,d.cn)("flex flex-col md:items-center md:flex-row bg-white p-4 md:p-5 md:gap-6",{"opacity-50 pointer-events-none":o},n),children:[(0,a.jsxs)("div",{className:"flex items-center gap-5 flex-1",children:[(0,a.jsx)(j._V,{src:r,className:"object-cover rounded-sm"}),(0,a.jsx)(j.R2,{name:s,details:i})]}),(0,a.jsx)(j.gm,{value:t}),(0,a.jsxs)("div",{className:"flex items-center gap-5 ml-20",children:[(0,a.jsx)(j.Qr,{onClick:c,value:l}),(0,a.jsx)("button",{type:"button",onClick:m,children:(0,a.jsx)(y.A,{className:"text-gray-400 cursor-pointer hover:text-gray-600",size:20})})]})]})},b=e=>{let{className:s}=e;return(0,a.jsxs)("div",{className:(0,d.cn)("flex items-center justify-between",s),children:[(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsx)("div",{className:"w-[50px] h-[50px] bg-gray-200 rounded-full animate-pulse"}),(0,a.jsx)("h2",{className:"w-40 h-5 bg-gray-200 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"h-5 w-10 bg-gray-200 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-8 w-[133px] bg-gray-200 rounded animate-pulse"})]})},N=e=>{let{items:s,onClickCountButton:t,removeCartItem:r,loading:l,className:i}=e;return(0,a.jsx)(o,{title:"1. Корзина",className:i,children:(0,a.jsx)("div",{className:"flex flex-col gap-5",children:l?[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(b,{},s)):s.map(e=>(0,a.jsx)(v,{id:e.id,imageUrl:e.imageUrl,details:e.description,name:e.name,price:e.price,quantity:e.quantity,onClickCountButton:s=>t(e.id,e.quantity,s),onClickRemove:()=>r(e.id)},e.id))})})};var w=t(2404);let _=e=>{let{className:s}=e;return(0,a.jsx)(o,{title:"2. Персональные данные",className:s,children:(0,a.jsxs)("div",{className:"grid grid-row md:grid-cols-2 gap-5",children:[(0,a.jsx)(w.Z,{name:"first_name",className:"text-base",placeholder:"Имя"}),(0,a.jsx)(w.Z,{name:"last_name",className:"text-base",placeholder:"Фамилия"}),(0,a.jsx)(w.Z,{name:"email",className:"text-base",placeholder:"E-Mail"}),(0,a.jsx)(w.Z,{name:"phone_number",className:"text-base",placeholder:"Телефон"})]})})};var A=t(147),C=t(2216),k=t(4205),S=t(9208),z=t(5037);let q="orderHistory",I="".concat("http://127.0.0.1:8000/api","/orders/"),R=()=>{let[e,s]=(0,i.useState)(!1),{totalAmount:t}=(0,k._)();return{submitting:e,submitOrder:async e=>{let a;if(!function(){let e=Date.now(),s=localStorage.getItem(q),t=s?JSON.parse(s):[];return!((t=t.filter(s=>e-s<864e5)).length>=1e4)&&(t.push(e),localStorage.setItem(q,JSON.stringify(t)),!0)}()){z.Ay.error("Превышено количество заказов за последние 24 часа.");return}if("delivery"===e.delivery_type&&t<1e3){z.Ay.error("Минимальная сумма заказа для доставки — 1000 рублей");return}let r=S.A.get("cartItems");try{a=r?JSON.parse(r):[]}catch(e){console.error("Ошибка при парсинге корзины",e),z.Ay.error("Ошибка при обработке корзины. Попробуйте позже.");return}if(0===a.length){z.Ay.error("Корзина пуста, добавьте товары.");return}let l=a.map(e=>({product:e.id,quantity:e.quantity})),i={...e,delivery_type:e.delivery_type,payment_type:e.payment_type,order_items:l};try{s(!0),console.log(i);let e=await fetch(I,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)});if(!e.ok){let s=await e.json();throw Error(s.detail||"Ошибка сервера при оформлении заказа")}let t=(await e.json()).url;console.log(t),S.A.remove("cartItems"),z.Ay.success("Заказ успешно оформлен!"),setTimeout(()=>{location.href=t||"/success"},200)}catch(e){console.error("Ошибка:",e),z.Ay.error("Ошибка при оформлении заказа: ".concat(e))}finally{s(!1)}}}};var V=t(1470),O=t(1703);let E=i.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.bL,{className:(0,d.cn)("grid gap-2",t),...r,ref:s})});E.displayName=V.bL.displayName;let J=i.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(V.q7,{ref:s,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(V.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(O.A,{className:"h-3.5 w-3.5 fill-primary"})})})});J.displayName=V.q7.displayName;var T=t(2651),P=t(4047),U=t.n(P),W=t(2336);let Z=()=>{let[e,s]=(0,i.useState)(""),[t,r]=(0,i.useState)([]),[n,d]=(0,i.useState)(""),[o,c]=(0,i.useState)(!1),{setValue:m,formState:{errors:x},trigger:u,register:p}=(0,l.xW)();(0,i.useEffect)(()=>{p("address")},[p]);let h=(0,i.useCallback)(U()(async e=>{if(!e){r([]);return}try{let s=await T.A.post("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",{query:e,count:5},{headers:{"Content-Type":"application/json",Authorization:"Token 49abb6cb5d7367d73c49905fc60a3956a8720806"}});r(s.data.suggestions)}catch(e){console.error("Ошибка получения подсказок:",e)}},400),[]),f=e=>{s(e),d(e),m("address",e,{shouldValidate:!0}),r([]),u("address")};return(0,i.useEffect)(()=>{n||m("address","",{shouldValidate:!0})},[n,m]),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(W.p,{className:"text-base",placeholder:"Введите адрес",autoComplete:"off",value:e,onChange:e=>{let t=e.target.value;s(t),d(""),m("address","",{shouldValidate:!0}),h(t)},onBlur:()=>{c(!0),setTimeout(()=>{r([])},150)}}),t.length>0&&(0,a.jsx)("ul",{className:"absolute z-10 bg-white shadow-md rounded border border-gray-300 w-full mt-1",children:t.map((e,s)=>(0,a.jsx)("li",{className:"p-2 hover:bg-gray-100 cursor-pointer",onMouseDown:()=>f(e.value),children:e.value},s))}),x.address&&o&&(0,a.jsx)("p",{className:"text-red-500 mt-2 text-sm",children:"Выберите адрес из предложенных подсказок"})]})};var L=t(3409);let Q=["	​Пермская 7","ул. Докучаева 50б","ул. Докучаева 42Б (у ТЦ Времена Года)","ул. Хабаровская, 135","ул. Ушакова 59/1","ул. Автозаводская, 44","ул. Пожарского, 10","ул. Тургенева 21а","ул. Молдавская, 4","ул. Гашкова, 23а","ул. Советская 2а (Лобаново)","ул. Академика Веденеева, 39","ул. Маршала Рыбалко, 99б","ул. Александра Щербакова, 43а","ул. Вильямса, 47Б","ул. Запорожская, 11","ул. Грачева ,25","ул. Гусарова, 14Б","ул. Солдатова , 32","ул. Ким, 81","ул. Ласьвинская, 38","ул. Целинная, 41","ул. Черняховского, 76","ул. Калинина, 34"],B=()=>{var e;let{setValue:s,formState:{errors:t}}=(0,l.xW)();return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)(f.l6,{onValueChange:e=>s("address",e,{shouldValidate:!0}),children:[(0,a.jsx)(f.bq,{children:(0,a.jsx)(f.yv,{placeholder:"Выберите пункт самовывоза"})}),(0,a.jsx)(f.gC,{children:(0,a.jsx)(L.s3,{children:Q.map((e,s)=>(0,a.jsx)(f.eb,{value:e,children:e},s))})})]}),t.address&&(0,a.jsx)("p",{className:"text-red-500 mt-1 text-sm",children:null===(e=t.address.message)||void 0===e?void 0:e.toString()})]})},$=()=>{let[e,s]=(0,i.useState)("delivery"),{totalAmount:t}=(0,k._)(),{setValue:r,setError:n,clearErrors:d}=(0,l.xW)();return(0,i.useEffect)(()=>{"delivery"===e&&t<1e3?n("address",{message:"Минимальная сумма заказа для доставки - 1000 рублей"}):d("address")},[e,t,n,d]),(0,i.useEffect)(()=>{r("delivery_type",e),r("pickup_point","pickup"===e?"":null),r("delivery_adress","delivery"===e?"":null)},[e,r]),(0,a.jsxs)(o,{title:"3. Способ получения заказа",children:[(0,a.jsx)(E,{defaultValue:"delivery",className:"mb-4",onValueChange:e=>s(e),children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)(J,{value:"delivery"})," Доставка"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)(J,{value:"pickup"})," Самовывоз"]})]})}),"delivery"===e?(0,a.jsx)(Z,{}):(0,a.jsx)(B,{})]})},D=e=>{let{className:s}=e;return(0,a.jsx)(o,{title:"0. Информация для покупателей",className:s,children:(0,a.jsxs)("div",{className:"space-y-4 text-base text-gray-700",children:[(0,a.jsx)("p",{className:"font-semibold text-lg",children:"Уважаемые покупатели!"}),(0,a.jsx)("p",{children:"Заказ считается принятым только после обратного звонка оператора на указанный вами номер и подтверждения наличия выбранных товаров."}),(0,a.jsx)("p",{children:"Заказная продукция принимается минимум за двое суток с момента подтверждения заказа."}),(0,a.jsxs)("p",{children:["Рабочие часы оператора: ",(0,a.jsx)("span",{className:"font-semibold",children:"с 8:00 до 17:00"})," в будние дни."]}),(0,a.jsxs)("p",{children:["Минимальная стоимость доставки составляет ",(0,a.jsx)("span",{className:"font-semibold",children:"1000 рублей"}),"."]})]})})};function M(){let e=(0,k._)(e=>e.hydrateCart);(0,i.useEffect)(()=>{e()},[e]);let s=(0,l.mN)({resolver:(0,r.u)(C.o),defaultValues:{email:"",first_name:"",last_name:"",phone_number:"",address:"",payment_type:""}}),{submitting:t,submitOrder:d}=R(),{totalAmount:o,items:c,removeCartItem:m,loading:x}=(0,k._)();return(0,a.jsxs)(A.m,{className:"mt-10",children:[(0,a.jsx)(n.h,{text:"Оформление заказа",className:"font-extrabold mb-8 text-[36px]"}),(0,a.jsx)(l.Op,{...s,children:(0,a.jsx)("form",{onSubmit:s.handleSubmit(d),children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-6 flex-1 mb-10",children:[(0,a.jsx)(D,{}),(0,a.jsx)(N,{onClickCountButton:(e,s,t)=>{k._.getState().updateItemQuantity(e,"plus"===t?s+1:s-1)},removeCartItem:m,items:c,loading:x}),(0,a.jsx)(_,{className:x?"opacity-40 pointer-events-none":""}),(0,a.jsx)($,{})]}),(0,a.jsx)("div",{className:"w-full lg:w-[450px]",children:(0,a.jsx)(g,{totalAmount:o,loading:x||t})})]})})})]})}},8182:(e,s,t)=>{"use strict";t.d(s,{Qr:()=>x,_V:()=>i,R2:()=>l,gm:()=>n});var a=t(5155),r=t(9602);let l=e=>{let{name:s,details:t,className:l}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:(0,r.cn)("flex items-center justify-between",l),children:(0,a.jsx)("h2",{className:"text-lg font-bold flex-1 leading-6",children:s})}),t&&(0,a.jsx)("p",{className:"text-xs text-gray-400 w-[90%]",children:t})]})},i=e=>{let{src:s,className:t}=e;return(0,a.jsx)("img",{className:(0,r.cn)("w-[60px] h-[60px]",t),src:s})},n=e=>{let{value:s,className:t}=e;return(0,a.jsxs)("h2",{className:(0,r.cn)("font-bold",t),children:[Number(s)," ₽"]})};t(2115);var d=t(4683),o=t(8209),c=t(4085);let m=e=>{let{size:s="sm",disabled:t,type:l,onClick:i}=e;return(0,a.jsx)(c.$,{variant:"outline",disabled:t,onClick:i,type:"button",className:(0,r.cn)("p-0 hover:bg-primary hover:text-white disabled:bg-white disabled:border-gray-400 disabled:text-gray-400","sm"===s?"w-[30px] h-[30px] rounded-[10px]":"w-[38px] h-[38px] rounded-md"),children:"plus"===l?(0,a.jsx)(d.A,{className:"sm"===s?"h-4":"h-5"}):(0,a.jsx)(o.A,{className:"sm"===s?"h-4":"h-5"})})},x=e=>{let{className:s,onClick:t,value:l=1,size:i="sm"}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("inline-flex items-center justify-between gap-3",s),children:[(0,a.jsx)(m,{onClick:()=>null==t?void 0:t("minus"),disabled:1===l,size:i,type:"minus"}),(0,a.jsx)("b",{className:"sm"===i?"text-sm":"text-md",children:l}),(0,a.jsx)(m,{onClick:()=>null==t?void 0:t("plus"),size:i,type:"plus"})]})}},2216:(e,s,t)=>{"use strict";t.d(s,{o:()=>r});var a=t(3415);let r=a.z.object({first_name:a.z.string().min(2,{message:"Имя должно содержать не менее 2-х символов"}),last_name:a.z.string().min(2,{message:"Фамилия должна содержать не менее 2-х символов"}),email:a.z.string().email({message:"Введите корректную почту"}),phone_number:a.z.string().min(10,{message:"Введите корректный номер телефона"}),delivery_type:a.z.enum(["delivery","pickup"]),address:a.z.string().min(1,{message:"Выберите адрес доставки или самовывоза"}),payment_type:a.z.string().min(1,{message:"Выберите тип оплаты"})})},147:(e,s,t)=>{"use strict";t.d(s,{m:()=>l});var a=t(5155),r=t(9602);t(2115);let l=e=>{let{className:s,children:t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("mx-auto max-w-[1280px] px-4 md:px-8",s),children:t})}},2404:(e,s,t)=>{"use strict";t.d(s,{Z:()=>x});var a=t(5155),r=t(9606),l=t(2336),i=t(9602),n=t(689),d=t(2115);let o=e=>{let{onClick:s,className:t}=e;return(0,a.jsx)("button",{onClick:s,className:(0,i.cn)("absolute right-4 top-1/2 -translate-y-1/2 opacity-30 hover:opacity-100 cursor-pointer",t),children:(0,a.jsx)(n.A,{className:"h-5 w-5"})})},c=e=>{let{text:s,className:t}=e;return(0,a.jsx)("p",{className:(0,i.cn)("text-red-500 text-sm",t),children:s})},m=()=>(0,a.jsx)("span",{className:"text-red-500",children:"*"}),x=e=>{var s;let{className:t,name:i,label:n,required:d,...x}=e,{register:u,formState:{errors:p},watch:h,setValue:f}=(0,r.xW)(),g=h(i),y=null===(s=p[i])||void 0===s?void 0:s.message;return(0,a.jsxs)("div",{className:t,children:[n&&(0,a.jsxs)("p",{className:"font-medium mb-2",children:[n," ",d&&(0,a.jsx)(m,{})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.p,{className:"h-12 text-md",...u(i),...x}),g&&(0,a.jsx)(o,{onClick:()=>{f(i,"",{shouldValidate:!0})}})]}),y&&(0,a.jsx)(c,{text:y,className:"mt-2"})]})};d.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})}).displayName="Textarea"},3516:(e,s,t)=>{"use strict";t.d(s,{h:()=>l});var a=t(3463),r=t(2115);let l=e=>{let{text:s,size:t="sm",className:l}=e;return r.createElement({xs:"h5",sm:"h4",md:"h3",lg:"h2",xl:"h1","2xl":"h1"}[t],{className:(0,a.A)({xs:"text-[16px]",sm:"text-[22px]",md:"text-[26px]",lg:"text-[32px]",xl:"text-[40px]","2xl":"text-[48px]"}[t],l)},s)}},4085:(e,s,t)=>{"use strict";t.d(s,{$:()=>o});var a=t(5155),r=t(2115),l=t(2317),i=t(1027),n=t(9602);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:o=!1,...c}=e,m=o?l.DX:"button";return(0,a.jsx)(m,{className:(0,n.cn)(d({variant:r,size:i,className:t})),ref:s,...c})});o.displayName="Button"},2336:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var a=t(5155),r=t(2115),l=t(9602);let i=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...i})});i.displayName="Input"},745:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>m});var a=t(5155),r=t(2115),l=t(3409),i=t(2645),n=t(2488),d=t(7193),o=t(9602);let c=l.bL;l.YJ;let m=l.WT,x=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(l.l9,{ref:s,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});u.displayName=l.PP.displayName;let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let h=r.forwardRef((e,s)=>{let{className:t,children:r,position:i="popper",...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,a.jsx)(u,{}),(0,a.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(p,{})]})})});h.displayName=l.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.JU,{ref:s,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",t),...r})}).displayName=l.JU.displayName;let f=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(l.q7,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(l.p4,{children:r})]})});f.displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=l.wv.displayName},9602:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(3463),r=t(9795);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},4205:(e,s,t)=>{"use strict";t.d(s,{_:()=>i});var a=t(9827),r=t(9208);let l=e=>e.reduce((e,s)=>e+s.price*s.quantity,0),i=(0,a.v)((e,s)=>({items:[],totalAmount:0,loading:!1,addCartItem:async t=>{let a;e({loading:!0});let i=s().items;a=-1!==i.findIndex(e=>e.id===t.id)?i.map(e=>e.id===t.id?{...e,quantity:e.quantity+t.quantity}:e):[...i,t],r.A.set("cartItems",JSON.stringify(a)),e({items:a,totalAmount:l(a),loading:!1})},removeCartItem:async t=>{e({loading:!0});let a=s().items.filter(e=>e.id!==t);r.A.set("cartItems",JSON.stringify(a)),e({items:a,totalAmount:l(a),loading:!1})},updateItemQuantity:async(t,a)=>{e({loading:!0});let i=s().items.map(e=>e.id===t?{...e,quantity:a>0?a:1}:e);r.A.set("cartItems",JSON.stringify(i)),e({items:i,totalAmount:l(i),loading:!1})},clearCart:async()=>{e({loading:!0}),r.A.remove("cartItems"),e({items:[],totalAmount:0,loading:!1})},hydrateCart:async()=>{{e({loading:!0});let s=r.A.get("cartItems"),t=[];if(s)try{t=JSON.parse(s)}catch(e){console.error("Ошибка при парсинге корзины из cookies",e)}e({items:t,totalAmount:l(t),loading:!1})}}}))}},e=>{var s=s=>e(e.s=s);e.O(0,[345,37,451,931,895,40,412,213,441,517,358],()=>s(2509)),_N_E=e.O()}]);