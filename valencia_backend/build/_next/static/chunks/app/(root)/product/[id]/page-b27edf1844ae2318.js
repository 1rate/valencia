(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{1908:(e,t,r)=>{Promise.resolve().then(r.bind(r,7436))},7436:(e,t,r)=>{"use strict";r.d(t,{ProductForm:()=>d});var n=r(5155),i=r(2115),a=r(5037),s=r(9602),o=r(3516),l=r(4085);let c=e=>{let{name:t,imageUrl:r,price:i,onSubmit:a,className:c,ingredients:u}=e;return(0,n.jsxs)("div",{className:(0,s.cn)(c,"flex flex-1"),children:[(0,n.jsx)("div",{className:"flex items-center justify-center flex-1 relative w-full",children:(0,n.jsx)("img",{src:r,alt:t,className:"relative transition-all z-10 duration-300 w-full h-[500px] rounded-sm"})}),(0,n.jsxs)("div",{className:"w-[490px] bg-[#f7f6f5] p-7",children:[(0,n.jsx)(o.h,{text:t,size:"md",className:"font-extrabold mb-1"}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:u}),(0,n.jsxs)(l.$,{onClick:()=>null==a?void 0:a(),className:"h-[55px] px-10 text-base rounded-[18px] w-full mt-72",children:["Добавить в корзину за ",i," ₽"]})]})]})};var u=r(4205);let d=e=>{let{product:t,onSubmit:r}=e,s=(0,u._)(e=>e.addCartItem),[o,l]=(0,i.useState)(!1),d=async()=>{l(!0);try{let e={id:t.id,name:t.name,imageUrl:t.image,price:Number(t.price),quantity:1,description:t.description};s(e),a.Ay.success("".concat(t.name," добавлена в корзину")),null==r||r()}catch(e){a.Ay.error("Не удалось добавить товар в корзину"),console.error(e)}finally{l(!1)}};return(0,n.jsx)(c,{imageUrl:t.image,name:t.name,onSubmit:d,price:Number(t.price),ingredients:t.description,loading:o})}},3516:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(3463),i=r(2115);let a=e=>{let{text:t,size:r="sm",className:a}=e;return i.createElement({xs:"h5",sm:"h4",md:"h3",lg:"h2",xl:"h1","2xl":"h1"}[r],{className:(0,n.A)({xs:"text-[16px]",sm:"text-[22px]",md:"text-[26px]",lg:"text-[32px]",xl:"text-[40px]","2xl":"text-[48px]"}[r],a)},t)}},4085:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(5155),i=r(2115),a=r(2317),s=r(1027),o=r(9602);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:r,variant:i,size:s,asChild:c=!1,...u}=e,d=c?a.DX:"button";return(0,n.jsx)(d,{className:(0,o.cn)(l({variant:i,size:s,className:r})),ref:t,...u})});c.displayName="Button"},9602:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var n=r(3463),i=r(9795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,n.$)(t))}},4205:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(9827),i=r(9208);let a=e=>e.reduce((e,t)=>e+t.price*t.quantity,0),s=(0,n.v)((e,t)=>({items:[],totalAmount:0,loading:!1,addCartItem:async r=>{let n;e({loading:!0});let s=t().items;n=-1!==s.findIndex(e=>e.id===r.id)?s.map(e=>e.id===r.id?{...e,quantity:e.quantity+r.quantity}:e):[...s,r],i.A.set("cartItems",JSON.stringify(n)),e({items:n,totalAmount:a(n),loading:!1})},removeCartItem:async r=>{e({loading:!0});let n=t().items.filter(e=>e.id!==r);i.A.set("cartItems",JSON.stringify(n)),e({items:n,totalAmount:a(n),loading:!1})},updateItemQuantity:async(r,n)=>{e({loading:!0});let s=t().items.map(e=>e.id===r?{...e,quantity:n>0?n:1}:e);i.A.set("cartItems",JSON.stringify(s)),e({items:s,totalAmount:a(s),loading:!1})},clearCart:async()=>{e({loading:!0}),i.A.remove("cartItems"),e({items:[],totalAmount:0,loading:!1})},hydrateCart:async()=>{{e({loading:!0});let t=i.A.get("cartItems"),r=[];if(t)try{r=JSON.parse(t)}catch(e){console.error("Ошибка при парсинге корзины из cookies",e)}e({items:r,totalAmount:a(r),loading:!1})}}}))},1027:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(3463);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=n.$,s=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;let a=i(t)||i(n);return s[e][a]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return a(e,l,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...c}[t]):({...o,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},9208:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{A:()=>i});var i=function e(t,r){function i(e,i,a){if("undefined"!=typeof document){"number"==typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in a)a[o]&&(s+="; "+o,!0!==a[o]&&(s+="="+a[o].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+s}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var a=r[i].split("="),s=a.slice(1).join("=");try{var o=decodeURIComponent(a[0]);if(n[o]=t.read(s,o),e===o)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){i(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},9827:(e,t,r)=>{"use strict";r.d(t,{v:()=>l});var n=r(2115);let i=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,a={setState:n,getState:i,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(n,i,a);return a},a=e=>e?i(e):i,s=e=>e,o=e=>{let t=a(e),r=e=>(function(e,t=s){let r=n.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return n.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},l=e=>e?o(e):o}},e=>{var t=t=>e(e.s=t);e.O(0,[345,37,441,517,358],()=>t(1908)),_N_E=e.O()}]);